(()=>{"use strict";const e=e=>{for(;e.firstChild;)e.removeChild(e.firstChild)};let t=[];null===localStorage.getItem("idArray")?localStorage.setItem("idArray",JSON.stringify([])):t=JSON.parse(localStorage.getItem("idArray"));let r=JSON.parse(localStorage.getItem("cardArray"));document.querySelector(".projects");const l=l=>{const a=document.querySelector(".projectTitle");if(""!=document.querySelector("#title").value){let o=(()=>{const e=document.createElement("div");e.setAttribute("class","card todoCard"),e.setAttribute("style","margin-top: 3px;");const t=document.createElement("div");t.setAttribute("class","card-header text-start fw-bold card-tit-change"),t.setAttribute("style","width: 100%;");const r=document.querySelector(".todo-form-form"),l=document.createElement("div");l.innerText=r.title.value+"________ ",t.appendChild(l);const a=document.createElement("span");a.setAttribute("class","text-end fw-bold card-dat-change");const o=document.querySelector(".todo-form-form");a.innerText="Due Date: "+o.date.value;const n=document.createElement("span");n.setAttribute("class","text-end fw-bold card-dat-change");const c=document.querySelector(".todo-form-form");n.innerText="Description: "+c.description.value;const i=document.createElement("div");i.setAttribute("class","card-body d-flex justify-content-end");const s=document.createElement("button");s.setAttribute("class","btn btn-secondary"),s.setAttribute("data-bs-toggle","modal"),s.setAttribute("data-bs-target","#exampleModal"),s.innerText="Edit To-Do";const d=document.createElement("button");return d.setAttribute("class","btn btn-warning"),d.setAttribute("data-bs-toggle","modal"),d.innerText="Delete ToDo",i.appendChild(s),i.appendChild(d),t.appendChild(a),t.appendChild(i),t.appendChild(n),e.appendChild(t),e})();const n=document.querySelector("#result");if(""==n.value)return void alert("Please Select a Priority ");1==n.value?o.style.backgroundColor="red":2==n.value?o.style.backgroundColor="yellow":3==n.value?o.style.backgroundColor="lightblue":o.style.backgroundColor="lightcyan",o.setAttribute("id",0);for(let e=0;e<t.length;e++)if(t[e]==o.id){let r=parseInt(t[e]);o.setAttribute("id",r+1)}let c=document.querySelector("#idButt");const i=function(e){c.value=e.target.id};t.push(o.id),o.children[0].children[2].firstChild.setAttribute("id",o.id),o.children[0].children[2].firstChild.addEventListener("click",i),localStorage.setItem("idArray",JSON.stringify(t)),o=o.outerHTML;let s=JSON.stringify(o);r=JSON.parse(localStorage.getItem("cardArray")),"Project: &nbsp; All ToDos"==a.innerHTML?r.push(s):r[parseInt(l.target.id)].push(s),localStorage.setItem("cardArray",JSON.stringify(r));const d=document.querySelector(".toDos"),u=document.createElement("div");u.setAttribute("class","toDoList");let g=[];if(r=JSON.parse(localStorage.getItem("cardArray")),"Project: &nbsp; All ToDos"==a.innerHTML)for(let e=0;e<r.length;e++)for(let t=0;t<r[e].length;t++){localStorage.setItem("innerArray",JSON.stringify(r[e][t]));try{g=JSON.parse(r[e][t])}catch(l){t=r[e].length-1,g=JSON.parse(r[e])}u.innerHTML+=g}else for(let e=0;e<r[parseInt(l.target.id)].length;e++)u.innerHTML+=JSON.parse(r[parseInt(l.target.id)][e]);if(null==d.firstChild||e(d),d.appendChild(u),localStorage.setItem("cardArray[parseInt(elem.target.id)]",JSON.stringify(r[parseInt(l.target.id)])),localStorage.setItem("cardArray",JSON.stringify(r)),r=JSON.parse(localStorage.getItem("cardArray")),null==u.firstChild)return;{let e=u.children;for(let t=0;t<e.length;t++)e[t].addEventListener("click",i)}}else alert("Please Enter a ToDo Title")},a=()=>{let e=JSON.parse(localStorage.getItem("cardArray"));const t=document.createElement("div");t.setAttribute("class","card card2"),t.setAttribute("style","margin-top: 5px;");const r=document.createElement("div");r.setAttribute("class","card3 card-header text-center fw-bold");const l=document.querySelector("#projectName");return r.innerHTML="Project:  <span class='text-primary'>"+l.value,t.appendChild(r),null===localStorage.getItem("cardArray")?localStorage.setItem("cardArray",JSON.stringify(e)):e=JSON.parse(localStorage.getItem("cardArray")),t.setAttribute("id",e.length),{card:t,cardArray:e}},o=function(e){const t=document.querySelector("#right-section"),r=document.createElement("h3");r.setAttribute("class","projectTitle"),r.innerText=e;const l=document.querySelector(".projectTitle");t.replaceChild(r,l)};let n=[];null===localStorage.getItem("cardArray")?localStorage.setItem("cardArray",JSON.stringify([])):n=JSON.parse(localStorage.getItem("cardArray"));const c=function(){document.querySelector(".butt").setAttribute("id",this.parentElement.id);const t=document.querySelector(".toDos"),r=document.createElement("div");r.setAttribute("class","toDoList");let l=document.querySelector("#idButt");const a=function(e){l.value=e.target.id};let c=[];n=JSON.parse(localStorage.getItem("cardArray"));for(let e=0;e<n[this.parentElement.id].length;e++)localStorage.setItem("innerArray",JSON.stringify(n[this.parentElement.id][e])),c=JSON.parse(n[this.parentElement.id][e]),r.innerHTML+=c;if(null!=t.firstChild&&(e(t),t.appendChild(r),localStorage.setItem("cardArray[parseInt(elem.target.id)]",JSON.stringify(n[parseInt(this.parentElement.id)])),localStorage.setItem("cardArray",JSON.stringify(n)),o(this.innerText),null!=r.firstChild)){let e=r.children;for(let t=0;t<e.length;t++)e[t].addEventListener("click",a)}},i=document.querySelector(".projects");let s=[];null===localStorage.getItem("cardArray")?localStorage.setItem("cardArray",JSON.stringify([])):s=JSON.parse(localStorage.getItem("cardArray"));let d=[];null===localStorage.getItem("projArray")?localStorage.setItem("projArray",JSON.stringify([])):d=JSON.parse(localStorage.getItem("projArray"));let u=[];null===localStorage.getItem("cardArray")?localStorage.setItem("cardArray",JSON.stringify([])):u=JSON.parse(localStorage.getItem("cardArray"));const g=function(){document.querySelector(".butt").setAttribute("id",this.id);const t=document.querySelector(".toDos"),r=document.createElement("div");r.setAttribute("class","toDoList");let l=document.querySelector("#idButt");const a=function(e){l.value=e.target.id};let n=[];u=JSON.parse(localStorage.getItem("cardArray"));for(let e=0;e<u[this.id].length;e++)localStorage.setItem("innerArray",JSON.stringify(u[this.id][e])),n=JSON.parse(u[this.id][e]),r.innerHTML+=n;if(null!=t.firstChild&&(e(t),t.appendChild(r),localStorage.setItem("cardArray[parseInt(elem.target.id)]",JSON.stringify(u[parseInt(this.id)])),localStorage.setItem("cardArray",JSON.stringify(u)),o(this.innerText),null!=r.firstChild)){let e=r.children;for(let t=0;t<e.length;t++)e[t].addEventListener("click",a)}};let m=[];null===localStorage.getItem("cardArray")?localStorage.setItem("cardArray",JSON.stringify([])):m=JSON.parse(localStorage.getItem("cardArray"));let S=[];null===localStorage.getItem("projArray")?localStorage.setItem("projArray",JSON.stringify([])):S=JSON.parse(localStorage.getItem("projArray"));let y=[];null===localStorage.getItem("cardArray")?localStorage.setItem("cardArray",JSON.stringify([])):y=JSON.parse(localStorage.getItem("cardArray"));let p=null;null===localStorage.getItem("projArray")?localStorage.setItem("projArray",JSON.stringify([])):JSON.parse(localStorage.getItem("projArray")),function(){const t=document.querySelector(".projects"),r=document.querySelector(".toDos"),l=document.createElement("div");l.setAttribute("class","toDoList");const a=document.createElement("div");a.setAttribute("class","projList");let o=[];m=JSON.parse(localStorage.getItem("cardArray"));for(let e=0;e<m.length;e++)for(let t=0;t<m[e].length;t++){localStorage.setItem("innerArray",JSON.stringify(m[e][t]));try{o=JSON.parse(m[e][t])}catch(r){t=m[e].length-1,o=JSON.parse(m[e])}l.innerHTML+=o}if(null==r.firstChild)return;e(r),r.appendChild(l);let n=document.querySelector("#idButt");const c=function(e){n.value=e.target.id};S=JSON.parse(localStorage.getItem("projArray"));let i="";for(let e=0;e<S.length;e++)console.log(S.length),i=JSON.parse(S[e]),a.innerHTML+=i;let s=a.children;for(let e=0;e<s.length;e++)s[e].addEventListener("click",g);if(console.log(s),console.log(a),t.appendChild(a),console.log("something"),console.log(S[0]),null!=l.firstChild){let e=l.children;for(let t=0;t<e.length;t++)e[t].addEventListener("click",c)}}(),document.querySelector(".projects");const h=e=>{const t=e.target.value;document.getElementById("result").value=t},f=e=>{const t=e.target.value;document.getElementById("result2").value=t},A=document.querySelector("#one"),I=document.querySelector("#two"),N=document.querySelector("#three"),v=document.querySelector("#four");A.addEventListener("click",h),I.addEventListener("click",h),N.addEventListener("click",h),v.addEventListener("click",h);const J=document.querySelector("#one1"),O=document.querySelector("#two2"),b=document.querySelector("#three3"),E=document.querySelector("#four4");J.addEventListener("click",f),O.addEventListener("click",f),b.addEventListener("click",f),E.addEventListener("click",f),document.querySelector("#button1").addEventListener("click",(()=>{if(""!=document.querySelector("#projectName").value){{d=JSON.parse(localStorage.getItem("projArray"));let e=a().card;e=e.outerHTML;let t=JSON.stringify(e);d.push(t),localStorage.setItem("projArray",JSON.stringify(d)),i.appendChild(a().card)}s=JSON.parse(localStorage.getItem("cardArray")),s.push([]),localStorage.setItem("cardArray",JSON.stringify(s)),document.querySelectorAll(".card3").forEach((function(e){e.addEventListener("click",c)}))}else alert("Please Enter a Project Title")})),document.querySelector(".butt").addEventListener("click",(function(e){l(e)})),document.querySelector(".all").addEventListener("click",(function(){const t=document.querySelector(".toDos"),r=document.createElement("div");r.setAttribute("class","toDoList");let l=[];y=JSON.parse(localStorage.getItem("cardArray"));for(let e=0;e<y.length;e++)for(let t=0;t<y[e].length;t++){localStorage.setItem("innerArray",JSON.stringify(y[e][t]));try{l=JSON.parse(y[e][t])}catch(r){t=y[e].length-1,l=JSON.parse(y[e])}r.innerHTML+=l}if(null==t.firstChild)return;e(t),t.appendChild(r),localStorage.setItem("cardArray[parseInt(elem.target.id)]",JSON.stringify(y[parseInt(this.parentElement.id)])),localStorage.setItem("cardArray",JSON.stringify(y)),o(this.innerText);let a=document.querySelector("#idButt");const n=function(e){a.value=e.target.id};if(null!=r.firstChild){let e=r.children;for(let t=0;t<e.length;t++)e[t].addEventListener("click",n)}})),document.querySelector(".editButt").addEventListener("click",(e=>{const t=document.querySelector("#idButt"),r=document.querySelector("#title2"),l=document.querySelector("#date2"),a=document.querySelector("#description2"),o=document.querySelector("#result2");let n=JSON.parse(localStorage.getItem("cardArray"));const c=document.getElementsByClassName("todoCard");for(let e=0;e<c.length;e++){let i=c[e].children[0].children;if(c[e].id==t.value){""==r.value?r.value="":i[0].innerText=r.value,""==l.value?l.value:i[1].innerText=l.value,""==a.value?a.value:i[3].innerText=a.value,""==o.value?o.value:1==o.value?c[e].style.backgroundColor="red":2==o.value?c[e].style.backgroundColor="yellow":3==o.value?c[e].style.backgroundColor="lightblue":c[e].style.backgroundColor="lightcyan";const t=document.querySelector(".projectTitle");console.log(c[e]);const s=c[e].outerHTML;let d=JSON.stringify(s);if(n=JSON.parse(localStorage.getItem("cardArray")),"Project: &nbsp; All ToDos"==t.innerHTML){let t=n.splice(c[e].id,1,d);localStorage.setItem("cardArray",JSON.stringify(n)),n=JSON.parse(localStorage.getItem("cardArray")),console.log(t),console.log(n[e]),console.log(c[e].id),console.log("length"+n.length)}else n[c[e].id-1].splice(c[e].id,d)}}}))})();