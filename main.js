(()=>{"use strict";const e=e=>{for(;e.firstChild;)e.removeChild(e.firstChild)};let t=JSON.parse(localStorage.getItem("cardArray"));console.log(t),null===localStorage.getItem("toDodArray")?localStorage.setItem("ToDoArray",JSON.stringify([])):toDoArray=JSON.parse(localStorage.getItem("toDoArray")),document.querySelector(".projects");const r=r=>{if(""!=document.querySelector("#title").value){let a=(()=>{const e=document.createElement("div");e.setAttribute("class","card"),e.setAttribute("style","margin-top: 3px;");const t=document.createElement("div");t.setAttribute("class","card-header text-start fw-bold"),t.setAttribute("style","width: 100%;");const r=document.querySelector("#todo-form");t.innerText=r.title.value+"________ ";const a=document.createElement("span");a.setAttribute("class","text-end fw-bold");const o=document.querySelector("#todo-form");a.innerText="Due Date: "+o.date.value;const l=document.createElement("div");l.setAttribute("class","card-body d-flex justify-content-center");const c=document.createElement("a");return c.setAttribute("class","btn btn-primary"),c.setAttribute("href","#"),c.innerText="Edit To-Do",l.appendChild(c),t.appendChild(a),t.appendChild(l),e.appendChild(t),e})();const o=document.querySelector("#result");if(""==o.value)return void alert("Please Select a Priority ");1==o.value?a.style.backgroundColor="red":2==o.value?a.style.backgroundColor="yellow":3==o.value?a.style.backgroundColor="lightblue":a.style.backgroundColor="lightcyan",a=a.outerHTML;let l=JSON.stringify(a);t=JSON.parse(localStorage.getItem("cardArray")),t[parseInt(r.target.id)].push(l),localStorage.setItem("cardArray",JSON.stringify(t[parseInt(r.target.id)])),localStorage.setItem("cardArray",JSON.stringify(t));const c=document.querySelector(".toDos"),n=document.createElement("div");n.setAttribute("class","toDoList");for(let e=0;e<t[parseInt(r.target.id)].length;e++)n.innerHTML+=JSON.parse(t[parseInt(r.target.id)][e]);null==c.firstChild||e(c),c.appendChild(n),localStorage.setItem("cardArray[parseInt(elem.target.id)]",JSON.stringify(t[parseInt(r.target.id)])),localStorage.setItem("cardArray",JSON.stringify(t)),t=JSON.parse(localStorage.getItem("cardArray"))}else alert("Please Enter a ToDo Title")};let a=[];null===localStorage.getItem("cardArray")?localStorage.setItem("cardArray",JSON.stringify([])):a=JSON.parse(localStorage.getItem("cardArray"));const o=function(){document.querySelector(".butt").setAttribute("id",this.parentElement.id);const t=document.querySelector(".toDos"),r=document.createElement("div");r.setAttribute("class","toDoList");let o=[];a=JSON.parse(localStorage.getItem("cardArray"));for(let e=0;e<a[this.parentElement.id].length;e++)localStorage.setItem("innerArray",JSON.stringify(a[this.parentElement.id][e])),o=JSON.parse(a[this.parentElement.id][e]),r.innerHTML+=o,console.log(r.innerHTML),console.log(this.parentElement.id),console.log(parseInt(this.parentElement.id)),console.log("check");console.log(parseInt(this.parentElement.id)),console.log("length:"+a[this.parentElement.id].length),null!=t.firstChild&&(e(t),t.appendChild(r),localStorage.setItem("cardArray[parseInt(elem.target.id)]",JSON.stringify(a[parseInt(this.parentElement.id)])),localStorage.setItem("cardArray",JSON.stringify(a)),function(e){const t=document.querySelector("#right-section"),r=document.createElement("h3");r.setAttribute("class","projectTitle"),r.innerText=e;const a=document.querySelector(".projectTitle");t.replaceChild(r,a)}(this.innerText))},l=document.querySelector(".projects");let c=[];null===localStorage.getItem("cardArray")?localStorage.setItem("cardArray",JSON.stringify([])):c=JSON.parse(localStorage.getItem("cardArray"));let n=null;null===localStorage.getItem("toDodArray")?localStorage.setItem("ToDoArray",JSON.stringify([])):toDoArray=JSON.parse(localStorage.getItem("toDoArray")),null===localStorage.getItem("cardArray")?localStorage.setItem("cardArray",JSON.stringify([])):JSON.parse(localStorage.getItem("cardArray")),document.querySelector(".projects"),document.querySelector(".toDos");const s=e=>{const t=e.target.value;document.getElementById("result").value=t},d=document.querySelector("#one"),i=document.querySelector("#two"),u=document.querySelector("#three"),g=document.querySelector("#four");d.addEventListener("click",s),i.addEventListener("click",s),u.addEventListener("click",s),g.addEventListener("click",s),document.querySelector("#button1").addEventListener("click",(()=>{""!=document.querySelector("#projectName").value?(l.appendChild((()=>{let e=JSON.parse(localStorage.getItem("cardArray"));const t=document.createElement("div");t.setAttribute("class","card card2"),t.setAttribute("style","margin-top: 5px;");const r=document.createElement("div");r.setAttribute("class","card3 card-header text-center fw-bold");const a=document.querySelector("#projectName");return r.innerHTML="Project:  <span class='text-primary'>"+a.value,t.appendChild(r),null===localStorage.getItem("cardArray")?localStorage.setItem("cardArray",JSON.stringify(e)):e=JSON.parse(localStorage.getItem("cardArray")),t.setAttribute("id",e.length),{card:t,cardArray:e}})().card),c=JSON.parse(localStorage.getItem("cardArray")),c.push([]),console.log("Before: "+c),localStorage.setItem("cardArray",JSON.stringify(c)),console.log("After: "+c),document.querySelectorAll(".card3").forEach((function(e){e.addEventListener("click",o)}))):alert("Please Enter a Project Title")})),document.querySelector(".butt").addEventListener("click",(function(e){r(e)}))})();