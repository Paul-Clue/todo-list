(()=>{"use strict";const e=e=>{for(;e.firstChild;)e.removeChild(e.firstChild)};let t=[];null===localStorage.getItem("idArray")?localStorage.setItem("idArray",JSON.stringify([])):t=JSON.parse(localStorage.getItem("idArray"));let r=JSON.parse(localStorage.getItem("cardArray"));document.querySelector(".projects");const l=l=>{const o=document.querySelector(".projectTitle");if(""!=document.querySelector("#title").value){let a=(()=>{const e=document.createElement("div");e.setAttribute("class","card todoCard"),e.setAttribute("style","margin-top: 3px;");const t=document.createElement("div");t.setAttribute("class","card-header text-start fw-bold card-tit-change"),t.setAttribute("style","width: 100%;");const r=document.querySelector(".todo-form-form"),l=document.createElement("div");l.innerText=r.title.value+"________ ",t.appendChild(l);const o=document.createElement("span");o.setAttribute("class","text-end fw-bold card-dat-change");const a=document.querySelector(".todo-form-form");o.innerText="Due Date: "+a.date.value;const n=document.createElement("span");n.setAttribute("class","text-end fw-bold card-dat-change");const c=document.querySelector(".todo-form-form");n.innerText="Description: "+c.description.value;const i=document.createElement("div");i.setAttribute("class","card-body d-flex justify-content-center");const d=document.createElement("button");return d.setAttribute("class","btn btn-primary"),d.setAttribute("data-bs-toggle","modal"),d.setAttribute("data-bs-target","#exampleModal"),d.innerText="Edit To-Do",i.appendChild(d),t.appendChild(o),t.appendChild(i),t.appendChild(n),e.appendChild(t),e})();const n=document.querySelector("#result");if(""==n.value)return void alert("Please Select a Priority ");1==n.value?a.style.backgroundColor="red":2==n.value?a.style.backgroundColor="yellow":3==n.value?a.style.backgroundColor="lightblue":a.style.backgroundColor="lightcyan",a.setAttribute("id",1);for(let e=0;e<t.length;e++)if(t[e]==a.id){let r=parseInt(t[e]);a.setAttribute("id",r+1)}let c=document.querySelector("#idButt");const i=function(e){c.value=e.target.id,console.log(c.value)};t.push(a.id),a.children[0].children[2].firstChild.setAttribute("id",a.id),a.children[0].children[2].firstChild.addEventListener("click",i),console.log(a.children[0].children[2].firstChild.id),localStorage.setItem("idArray",JSON.stringify(t)),a=a.outerHTML;let d=JSON.stringify(a);r=JSON.parse(localStorage.getItem("cardArray")),"Project: &nbsp; All ToDos"==o.innerHTML?r.push(d):r[parseInt(l.target.id)].push(d),localStorage.setItem("cardArray",JSON.stringify(r[parseInt(l.target.id)])),localStorage.setItem("cardArray",JSON.stringify(r));const s=document.querySelector(".toDos"),u=document.createElement("div");u.setAttribute("class","toDoList");let g=[];if(r=JSON.parse(localStorage.getItem("cardArray")),"Project: &nbsp; All ToDos"==o.innerHTML)for(let e=0;e<r.length;e++)for(let t=0;t<r[e].length;t++){localStorage.setItem("innerArray",JSON.stringify(r[e][t]));try{g=JSON.parse(r[e][t])}catch(l){t=r[e].length-1,g=JSON.parse(r[e])}u.innerHTML+=g}else for(let e=0;e<r[parseInt(l.target.id)].length;e++)u.innerHTML+=JSON.parse(r[parseInt(l.target.id)][e]);if(null==s.firstChild||e(s),s.appendChild(u),localStorage.setItem("cardArray[parseInt(elem.target.id)]",JSON.stringify(r[parseInt(l.target.id)])),localStorage.setItem("cardArray",JSON.stringify(r)),r=JSON.parse(localStorage.getItem("cardArray")),null==u.firstChild)return;{let e=u.children;for(let t=0;t<e.length;t++)e[t].addEventListener("click",i)}}else alert("Please Enter a ToDo Title")},o=function(e){const t=document.querySelector("#right-section"),r=document.createElement("h3");r.setAttribute("class","projectTitle"),r.innerText=e;const l=document.querySelector(".projectTitle");t.replaceChild(r,l)};let a=[];null===localStorage.getItem("cardArray")?localStorage.setItem("cardArray",JSON.stringify([])):a=JSON.parse(localStorage.getItem("cardArray"));const n=function(){document.querySelector(".butt").setAttribute("id",this.parentElement.id);const t=document.querySelector(".toDos"),r=document.createElement("div");r.setAttribute("class","toDoList");let l=document.querySelector("#idButt");const n=function(e){l.value=e.target.id,console.log(l.value)};let c=[];a=JSON.parse(localStorage.getItem("cardArray"));for(let e=0;e<a[this.parentElement.id].length;e++)localStorage.setItem("innerArray",JSON.stringify(a[this.parentElement.id][e])),c=JSON.parse(a[this.parentElement.id][e]),r.innerHTML+=c,console.log("check check"+a[this.parentElement.id][e]);if(null!=t.firstChild&&(e(t),t.appendChild(r),localStorage.setItem("cardArray[parseInt(elem.target.id)]",JSON.stringify(a[parseInt(this.parentElement.id)])),localStorage.setItem("cardArray",JSON.stringify(a)),o(this.innerText),console.log("do list:"+r.firstChild),null!=r.firstChild)){let e=r.children;for(let t=0;t<e.length;t++)e[t].addEventListener("click",n)}},c=document.querySelector(".projects");let i=[];null===localStorage.getItem("cardArray")?localStorage.setItem("cardArray",JSON.stringify([])):i=JSON.parse(localStorage.getItem("cardArray"));let d=[];null===localStorage.getItem("cardArray")?localStorage.setItem("cardArray",JSON.stringify([])):d=JSON.parse(localStorage.getItem("cardArray"));let s=[];null===localStorage.getItem("cardArray")?localStorage.setItem("cardArray",JSON.stringify([])):s=JSON.parse(localStorage.getItem("cardArray"));let u=[];s=JSON.parse(localStorage.getItem("cardArray"));const g=document.querySelector(".toDos"),m=document.createElement("div");m.setAttribute("class","toDoList");for(let e=0;e<s.length;e++)for(let t=0;t<s[e].length;t++){localStorage.setItem("innerArray",JSON.stringify(s[e][t]));try{u=JSON.parse(s[e][t])}catch(r){t=s[e].length-1,u=JSON.parse(s[e])}console.log("This is i: "+t),m.innerHTML+=u;let r=document.querySelector("#idButt");const l=function(e){r.value=e.target.id,console.log(r.value)};(function(){if(null!=m.firstChild){let e=m.children;for(let t=0;t<e.length;t++)e[t].addEventListener("click",l)}})(),console.log("Print all todos is running.")}console.log("CHECK CHECK"),g.appendChild(m),document.querySelector(".projects"),document.querySelector(".toDos");const y=e=>{const t=e.target.value;document.getElementById("result").value=t},S=e=>{const t=e.target.value;document.getElementById("result2").value=t},p=document.querySelector("#one"),h=document.querySelector("#two"),f=document.querySelector("#three"),A=document.querySelector("#four");p.addEventListener("click",y),h.addEventListener("click",y),f.addEventListener("click",y),A.addEventListener("click",y);const v=document.querySelector("#one1"),I=document.querySelector("#two2"),E=document.querySelector("#three3"),b=document.querySelector("#four4");v.addEventListener("click",S),I.addEventListener("click",S),E.addEventListener("click",S),b.addEventListener("click",S),document.querySelector("#button1").addEventListener("click",(()=>{""!=document.querySelector("#projectName").value?(c.appendChild((()=>{let e=JSON.parse(localStorage.getItem("cardArray"));const t=document.createElement("div");t.setAttribute("class","card card2"),t.setAttribute("style","margin-top: 5px;");const r=document.createElement("div");r.setAttribute("class","card3 card-header text-center fw-bold");const l=document.querySelector("#projectName");return r.innerHTML="Project:  <span class='text-primary'>"+l.value,t.appendChild(r),null===localStorage.getItem("cardArray")?localStorage.setItem("cardArray",JSON.stringify(e)):e=JSON.parse(localStorage.getItem("cardArray")),t.setAttribute("id",e.length),{card:t,cardArray:e}})().card),i=JSON.parse(localStorage.getItem("cardArray")),i.push([]),localStorage.setItem("cardArray",JSON.stringify(i)),document.querySelectorAll(".card3").forEach((function(e){e.addEventListener("click",n)}))):alert("Please Enter a Project Title")})),document.querySelector(".butt").addEventListener("click",(function(e){l(e)})),document.querySelector(".all").addEventListener("click",(function(){const t=document.querySelector(".toDos"),r=document.createElement("div");r.setAttribute("class","toDoList");let l=[];d=JSON.parse(localStorage.getItem("cardArray"));for(let e=0;e<d.length;e++)for(let t=0;t<d[e].length;t++){localStorage.setItem("innerArray",JSON.stringify(d[e][t]));try{l=JSON.parse(d[e][t])}catch(r){t=d[e].length-1,l=JSON.parse(d[e])}console.log("This is i: "+t),r.innerHTML+=l,console.log("Print all todos is running.")}if(console.log("CHECK CHECK"),null==t.firstChild)return;e(t),t.appendChild(r),localStorage.setItem("cardArray[parseInt(elem.target.id)]",JSON.stringify(d[parseInt(this.parentElement.id)])),localStorage.setItem("cardArray",JSON.stringify(d)),o(this.innerText);let a=document.querySelector("#idButt");const n=function(e){a.value=e.target.id,console.log(a.value)};if(null!=r.firstChild){let e=r.children;for(let t=0;t<e.length;t++)e[t].addEventListener("click",n)}})),document.querySelector(".editButt").addEventListener("click",(e=>{const t=document.querySelector("#idButt"),r=document.querySelector("#title2"),l=document.querySelector("#date2"),o=document.querySelector("#description2"),a=document.querySelector("#result2"),n=document.getElementsByClassName("todoCard");for(let e=0;e<n.length;e++){let c=n[e].children[0].children;n[e].id==t.value&&(""==r.value?r.value="":(console.log("ONE"),c[0].innerText=r.value,console.log("TWO")),""==l.value?l.value:c[1].innerText=l.value,""==o.value?o.value:c[3].innerText=o.value,""==a.value?a.value:1==a.value?n[e].style.backgroundColor="red":2==a.value?n[e].style.backgroundColor="yellow":3==a.value?n[e].style.backgroundColor="lightblue":n[e].style.backgroundColor="lightcyan")}}))})();