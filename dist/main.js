(()=>{"use strict";const e=e=>{for(;e.firstChild;)e.removeChild(e.firstChild)};let t=JSON.parse(localStorage.getItem("cardArray"));document.querySelector(".projects");const r=r=>{if(""!=document.querySelector("#title").value){let a=(()=>{const e=document.createElement("div");e.setAttribute("class","card"),e.setAttribute("style","margin-top: 3px;");const t=document.createElement("div");t.setAttribute("class","card-header text-start fw-bold"),t.setAttribute("style","width: 100%;");const r=document.querySelector("#todo-form");t.innerText=r.title.value+"________ ";const a=document.createElement("span");a.setAttribute("class","text-end fw-bold");const l=document.querySelector("#todo-form");a.innerText="Due Date: "+l.date.value;const o=document.createElement("div");o.setAttribute("class","card-body d-flex justify-content-center");const n=document.createElement("a");return n.setAttribute("class","btn btn-primary"),n.setAttribute("href","#"),n.innerText="Edit To-Do",o.appendChild(n),t.appendChild(a),t.appendChild(o),e.appendChild(t),e})();const l=document.querySelector("#result");if(""==l.value)return void alert("Please Select a Priority ");1==l.value?a.style.backgroundColor="red":2==l.value?a.style.backgroundColor="yellow":3==l.value?a.style.backgroundColor="lightblue":a.style.backgroundColor="lightcyan",a=a.outerHTML;let o=JSON.stringify(a);t=JSON.parse(localStorage.getItem("cardArray"));const n=document.querySelector(".projectTitle");console.log(n.innerHTML),"Project: &nbsp; All ToDos"==n.innerHTML?t.push(o):t[parseInt(r.target.id)].push(o),localStorage.setItem("cardArray",JSON.stringify(t[parseInt(r.target.id)])),localStorage.setItem("cardArray",JSON.stringify(t));const c=document.querySelector(".toDos"),s=document.createElement("div");s.setAttribute("class","toDoList");let i=[];if(t=JSON.parse(localStorage.getItem("cardArray")),"Project: &nbsp; All ToDos"==n.innerHTML)for(let e=0;e<t.length;e++)for(let r=0;r<t[e].length;r++){localStorage.setItem("innerArray",JSON.stringify(t[e])),console.log("This is at JJ: "+t[e]);try{i=JSON.parse("innerArray")}catch(a){r=t[e].length-1,i=JSON.parse(localStorage.getItem("innerArray")),console.log("TEST TEST")}s.innerHTML+=i,console.log("Print all todos is running.")}else for(let e=0;e<t[parseInt(r.target.id)].length;e++)console.log("This is the ELSE"),s.innerHTML+=JSON.parse(t[parseInt(r.target.id)][e]);null==c.firstChild||e(c),c.appendChild(s),localStorage.setItem("cardArray[parseInt(elem.target.id)]",JSON.stringify(t[parseInt(r.target.id)])),localStorage.setItem("cardArray",JSON.stringify(t)),t=JSON.parse(localStorage.getItem("cardArray"))}else alert("Please Enter a ToDo Title")},a=function(e){const t=document.querySelector("#right-section"),r=document.createElement("h3");r.setAttribute("class","projectTitle"),r.innerText=e;const a=document.querySelector(".projectTitle");t.replaceChild(r,a)};let l=[];null===localStorage.getItem("cardArray")?localStorage.setItem("cardArray",JSON.stringify([])):l=JSON.parse(localStorage.getItem("cardArray"));const o=function(){document.querySelector(".butt").setAttribute("id",this.parentElement.id);const t=document.querySelector(".toDos"),r=document.createElement("div");r.setAttribute("class","toDoList");let o=[];l=JSON.parse(localStorage.getItem("cardArray")),console.log(l[this.parentElement.id].length),console.log(l);for(let e=0;e<l[this.parentElement.id].length;e++)localStorage.setItem("innerArray",JSON.stringify(l[this.parentElement.id][e])),o=JSON.parse(l[this.parentElement.id][e]),r.innerHTML+=o,console.log("check");null!=t.firstChild&&(e(t),t.appendChild(r),localStorage.setItem("cardArray[parseInt(elem.target.id)]",JSON.stringify(l[parseInt(this.parentElement.id)])),localStorage.setItem("cardArray",JSON.stringify(l)),a(this.innerText))},n=document.querySelector(".projects");let c=[];null===localStorage.getItem("cardArray")?localStorage.setItem("cardArray",JSON.stringify([])):c=JSON.parse(localStorage.getItem("cardArray"));let s=[];null===localStorage.getItem("cardArray")?localStorage.setItem("cardArray",JSON.stringify([])):s=JSON.parse(localStorage.getItem("cardArray"));let i=null;null===localStorage.getItem("toDodArray")?localStorage.setItem("ToDoArray",JSON.stringify([])):toDoArray=JSON.parse(localStorage.getItem("toDoArray")),null===localStorage.getItem("cardArray")?localStorage.setItem("cardArray",JSON.stringify([])):JSON.parse(localStorage.getItem("cardArray")),document.querySelector(".projects"),document.querySelector(".toDos");const d=e=>{const t=e.target.value;document.getElementById("result").value=t},u=document.querySelector("#one"),g=document.querySelector("#two"),m=document.querySelector("#three"),S=document.querySelector("#four");u.addEventListener("click",d),g.addEventListener("click",d),m.addEventListener("click",d),S.addEventListener("click",d),document.querySelector("#button1").addEventListener("click",(()=>{""!=document.querySelector("#projectName").value?(n.appendChild((()=>{let e=JSON.parse(localStorage.getItem("cardArray"));const t=document.createElement("div");t.setAttribute("class","card card2"),t.setAttribute("style","margin-top: 5px;");const r=document.createElement("div");r.setAttribute("class","card3 card-header text-center fw-bold");const a=document.querySelector("#projectName");return r.innerHTML="Project:  <span class='text-primary'>"+a.value,t.appendChild(r),null===localStorage.getItem("cardArray")?localStorage.setItem("cardArray",JSON.stringify(e)):e=JSON.parse(localStorage.getItem("cardArray")),t.setAttribute("id",e.length),{card:t,cardArray:e}})().card),c=JSON.parse(localStorage.getItem("cardArray")),c.push([]),localStorage.setItem("cardArray",JSON.stringify(c)),document.querySelectorAll(".card3").forEach((function(e){e.addEventListener("click",o)}))):alert("Please Enter a Project Title")})),document.querySelector(".butt").addEventListener("click",(function(e){r(e)})),document.querySelector(".all").addEventListener("click",(function(){document.querySelector(".butt").setAttribute("id",this.parentElement.id);const t=document.querySelector(".toDos"),r=document.createElement("div");r.setAttribute("class","toDoList");let l=[];s=JSON.parse(localStorage.getItem("cardArray"));for(let e=0;e<s.length;e++)for(let t=0;t<s[e].length;t++){localStorage.setItem("innerArray",JSON.stringify(s[e][t]));try{l=JSON.parse(s[e][t])}catch(r){t=s[e].length-1,l=JSON.parse(s[e])}console.log("This is i: "+t),r.innerHTML+=l,console.log("Print all todos is running.")}console.log("CHECK CHECK"),null!=t.firstChild&&(e(t),t.appendChild(r),localStorage.setItem("cardArray[parseInt(elem.target.id)]",JSON.stringify(s[parseInt(this.parentElement.id)])),localStorage.setItem("cardArray",JSON.stringify(s)),a(this.innerText))}))})();